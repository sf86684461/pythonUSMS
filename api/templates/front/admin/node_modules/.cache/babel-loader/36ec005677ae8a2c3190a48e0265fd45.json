{"remainingRequest":"/Users/shaofeng/Desktop/codebuddy/pythonUSMS-1/api/templates/front/admin/node_modules/thread-loader/dist/cjs.js!/Users/shaofeng/Desktop/codebuddy/pythonUSMS-1/api/templates/front/admin/node_modules/babel-loader/lib/index.js!/Users/shaofeng/Desktop/codebuddy/pythonUSMS-1/api/templates/front/admin/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/shaofeng/Desktop/codebuddy/pythonUSMS-1/api/templates/front/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/shaofeng/Desktop/codebuddy/pythonUSMS-1/api/templates/front/admin/src/components/common/img.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/shaofeng/Desktop/codebuddy/pythonUSMS-1/api/templates/front/admin/src/components/common/img.vue","mtime":1757455257866},{"path":"/Users/shaofeng/Desktop/codebuddy/pythonUSMS-1/api/templates/front/admin/babel.config.js","mtime":1757455255491},{"path":"/Users/shaofeng/Desktop/codebuddy/pythonUSMS-1/api/templates/front/admin/node_modules/cache-loader/dist/cjs.js","mtime":1757455255994},{"path":"/Users/shaofeng/Desktop/codebuddy/pythonUSMS-1/api/templates/front/admin/node_modules/thread-loader/dist/cjs.js","mtime":1757455257634},{"path":"/Users/shaofeng/Desktop/codebuddy/pythonUSMS-1/api/templates/front/admin/node_modules/babel-loader/lib/index.js","mtime":1757455255863},{"path":"/Users/shaofeng/Desktop/codebuddy/pythonUSMS-1/api/templates/front/admin/node_modules/cache-loader/dist/cjs.js","mtime":1757455255994},{"path":"/Users/shaofeng/Desktop/codebuddy/pythonUSMS-1/api/templates/front/admin/node_modules/vue-loader/lib/index.js","mtime":1757455257715}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvc2hhb2ZlbmcvRGVza3RvcC9jb2RlYnVkZHkvcHl0aG9uVVNNUy0xL2FwaS90ZW1wbGF0ZXMvZnJvbnQvYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5lcnJvci50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS1idWZmZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS1idWZmZXIuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5kYXRhLXZpZXcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS1idWZmZXIuZGV0YWNoZWQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS1idWZmZXIudHJhbnNmZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS1idWZmZXIudHJhbnNmZXItdG8tZml4ZWQtbGVuZ3RoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnVpbnQ4LWFycmF5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5jb3B5LXdpdGhpbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmV2ZXJ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmlsbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maW5kLWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmluZC1sYXN0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmluZC1sYXN0LWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmluZGV4LW9mLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkubGFzdC1pbmRleC1vZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJlZHVjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJlZHVjZS1yaWdodC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJldmVyc2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zZXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNvbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zb3J0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc3ViYXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS50by1sb2NhbGUtc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudG8tcmV2ZXJzZWQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS50by1zb3J0ZWQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS53aXRoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0LnVpbnQ4LWFycmF5LnNldC1mcm9tLWJhc2U2NC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC51aW50OC1hcnJheS5zZXQtZnJvbS1oZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lc25leHQudWludDgtYXJyYXkudG8tYmFzZTY0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0LnVpbnQ4LWFycmF5LnRvLWhleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5hdG9iLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tZXhjZXB0aW9uLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1leGNlcHRpb24uc3RhY2suanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWV4Y2VwdGlvbi50by1zdHJpbmctdGFnLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwudG8tanNvbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5kZWxldGUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuaGFzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC1zZWFyY2gtcGFyYW1zLnNpemUuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlhYWCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBfcmVmOwogICAgcmV0dXJuIF9yZWYgPSB7CiAgICAgIGJhc2VVcmw6ICIvIi5jb25jYXQodGhpcy4kYmFzZS5uYW1lLCAiLyIpLAogICAgICB2aXNpYmxlOiBmYWxzZSwKICAgICAgLy/lvLnnqpcKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIC8v5LiK5Lyg5oyJ6ZKu5Yqg6L29CiAgICAgIG9zOiBmYWxzZSwKICAgICAgLy/mjqfliLbmkYTlg4/lpLTlvIDlhbMKICAgICAgdGhpc1ZpZGVvOiBudWxsLAogICAgICB0aGlzQ29udGV4dDogbnVsbCwKICAgICAgdGhpc0NhbmNhczogbnVsbCwKICAgICAgdmlkZW9XaWR0aDogNTAwLAogICAgICB2aWRlb0hlaWdodDogNDAwLAogICAgICBwb3N0T3B0aW9uczogW10sCiAgICAgIENlcnRDdGw6ICcnCiAgICB9LCBfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfZGVmaW5lUHJvcGVydHkoX3JlZiwgImxvYWRpbmciLCB0cnVlKSwgImlkcyIsIFtdKSwgInNpbmdsZSIsIHRydWUpLCAibXVsdGlwbGUiLCB0cnVlKSwgInRvdGFsIiwgMCksICJha3dvcmtlckxpc3QiLCBbXSksICJ3b3JrZXJUeXBlT3B0aW9ucyIsIFtdKSwgInRpdGxlIiwgIiIpLCAib3BlbiIsIGZhbHNlKSwgInF1ZXJ5UGFyYW1zIiwgewogICAgICBwYWdlTnVtOiAxLAogICAgICBwYWdlU2l6ZTogMTAsCiAgICAgIGltZ1NyYzogdW5kZWZpbmVkCiAgICB9KSwgX2RlZmluZVByb3BlcnR5KF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAiZm9ybSIsIHt9KSwgInJ1bGVzIiwge30pOwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIC8vIHRoaXMub25UYWtlKCkKICB9LAogIG1ldGhvZHM6IHsKICAgIC8q6LCD55So5pGE5YOP5aS05ouN54Wn5byA5aeLKi9vblRha2U6IGZ1bmN0aW9uIG9uVGFrZSgpIHsKICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTsKICAgICAgdGhpcy5nZXRDb21wZXRlbmNlKCk7CiAgICB9LAogICAgb25DYW5jZWw6IGZ1bmN0aW9uIG9uQ2FuY2VsKCkgewogICAgICB0aGlzLnVwbG9hZEltZygpOwogICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTsKICAgICAgLyogdGhpcy5yZXNldENhbnZhcygpOyovCgogICAgICB0aGlzLnN0b3BOYXZpZ2F0b3IoKTsKICAgIH0sCiAgICB1cGxvYWRTdWNjZXNzOiBmdW5jdGlvbiB1cGxvYWRTdWNjZXNzKGUpIHsKICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7CiAgICAgIHRoaXMuJGVtaXQoJ2ltZ0NoYW5nZScsIGUuZmlsZSk7CiAgICB9LAogICAgdXBsb2FkSW1nOiBmdW5jdGlvbiB1cGxvYWRJbWcoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB2YXIgcGFyYW0gPSBuZXcgRm9ybURhdGEoKTsKICAgICAgcGFyYW0uYXBwZW5kKCdmaWxlJywgdGhpcy5iYXNlNjR0b0ZpbGUodGhpcy5pbWdTcmMpKTsKICAgICAgdGhpcy4kaHR0cC5wb3N0KCdmaWxlL3VwbG9hZCcsIHBhcmFtKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIuJGVtaXQoJ2ltZ0NoYW5nZScsIHJlcy5kYXRhLmZpbGUpOwogICAgICB9KTsKICAgIH0sCiAgICBiYXNlNjR0b0ZpbGU6IGZ1bmN0aW9uIGJhc2U2NHRvRmlsZShkYXRhdXJsKSB7CiAgICAgIHZhciBmaWxlbmFtZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ2ZpbGUnOwogICAgICB2YXIgYXJyID0gZGF0YXVybC5zcGxpdCgnLCcpOwogICAgICB2YXIgbWltZSA9IGFyclswXS5tYXRjaCgvOiguKj8pOy8pWzFdOwogICAgICB2YXIgc3VmZml4ID0gbWltZS5zcGxpdCgnLycpWzFdOwogICAgICB2YXIgYnN0ciA9IGF0b2IoYXJyWzFdKTsKICAgICAgdmFyIG4gPSBic3RyLmxlbmd0aDsKICAgICAgdmFyIHU4YXJyID0gbmV3IFVpbnQ4QXJyYXkobik7CiAgICAgIHdoaWxlIChuLS0pIHsKICAgICAgICB1OGFycltuXSA9IGJzdHIuY2hhckNvZGVBdChuKTsKICAgICAgfQogICAgICB2YXIgZmlsZSA9IG5ldyBGaWxlKFt1OGFycl0sICIiLmNvbmNhdChmaWxlbmFtZSwgIi4iKS5jb25jYXQoc3VmZml4KSwgewogICAgICAgIHR5cGU6IG1pbWUKICAgICAgfSk7CiAgICAgIHJldHVybiBmaWxlOwogICAgfSwKICAgIC8vIOiwg+eUqOaRhOWDj+WktOadg+mZkAogICAgZ2V0Q29tcGV0ZW5jZTogZnVuY3Rpb24gZ2V0Q29tcGV0ZW5jZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIC8v5b+F6aG75ZyobW9kZWzkuK1yZW5kZXLlkI7miY3lj6/ojrflj5bliLBkb23oioLngrks55u05o6l6I635Y+W5peg5rOV6I635Y+W5YiwbW9kZWzkuK3nmoRkb23oioLngrkKCiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3RoaXMgPSBfdGhpczM7CiAgICAgICAgX3RoaXMzLm9zID0gZmFsc2U7IC8v5YiH5o2i5oiQ5YWz6Zet5pGE5YOP5aS0CgogICAgICAgIF90aGlzMy50aGlzQ2FuY2FzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhc0NhbWVyYScpOwogICAgICAgIF90aGlzMy50aGlzQ29udGV4dCA9IF90aGlzMy50aGlzQ2FuY2FzLmdldENvbnRleHQoJzJkJyk7CiAgICAgICAgX3RoaXMzLnRoaXNWaWRlbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2aWRlb0NhbWVyYScpOwoKICAgICAgICAvLyDml6fniYjmnKzmtY/op4jlmajlj6/og73moLnmnKzkuI3mlK/mjIFtZWRpYURldmljZXPvvIzmiJHku6zpppblhYjorr7nva7kuIDkuKrnqbrlr7nosaEKCiAgICAgICAgaWYgKG5hdmlnYXRvci5tZWRpYURldmljZXMgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgbmF2aWdhdG9yLm1lbmF2aWdhdG9yZGlhRGV2aWNlcyA9IHt9OwogICAgICAgIH0KCiAgICAgICAgLy8g5LiA5Lqb5rWP6KeI5Zmo5a6e546w5LqG6YOo5YiGbWVkaWFEZXZpY2Vz77yM5oiR5Lus5LiN6IO95Y+q5YiG6YWN5LiA5Liq5a+56LGhCgogICAgICAgIC8vIOS9v+eUqGdldFVzZXJNZWRpYe+8jOWboOS4uuWug+S8muimhueblueOsOacieeahOWxnuaAp+OAggoKICAgICAgICAvLyDov5nph4zvvIzlpoLmnpznvLrlsJFnZXRVc2VyTWVkaWHlsZ7mgKfvvIzlsLHmt7vliqDlroPjgIIKCiAgICAgICAgaWYgKG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhID0gZnVuY3Rpb24gKGNvbnN0cmFpbnRzKSB7CiAgICAgICAgICAgIC8vIOmmluWFiOiOt+WPlueOsOWtmOeahGdldFVzZXJNZWRpYSjlpoLmnpzlrZjlnKgpCgogICAgICAgICAgICB2YXIgZ2V0VXNlck1lZGlhID0gbmF2aWdhdG9yLndlYmtpdEdldFVzZXJNZWRpYSB8fCBuYXZpZ2F0b3IubW96R2V0VXNlck1lZGlhIHx8IG5hdmlnYXRvci5nZXRVc2VyTWVkaWE7CgogICAgICAgICAgICAvLyDmnInkupvmtY/op4jlmajkuI3mlK/mjIHvvIzkvJrov5Tlm57plJnor6/kv6Hmga8KCiAgICAgICAgICAgIC8vIOS/neaMgeaOpeWPo+S4gOiHtAoKICAgICAgICAgICAgaWYgKCFnZXRVc2VyTWVkaWEpIHsKICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdnZXRVc2VyTWVkaWEgaXMgbm90IGltcGxlbWVudGVkIGluIHRoaXMgYnJvd3NlcicpKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8g5ZCm5YiZ77yM5L2/55SoUHJvbWlzZeWwhuiwg+eUqOWMheijheWIsOaXp+eahG5hdmlnYXRvci5nZXRVc2VyTWVkaWEKCiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgICAgICAgZ2V0VXNlck1lZGlhLmNhbGwobmF2aWdhdG9yLCBjb25zdHJhaW50cywgcmVzb2x2ZSwgcmVqZWN0KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICB2YXIgY29uc3RyYWludHMgPSB7CiAgICAgICAgICBhdWRpbzogZmFsc2UsCiAgICAgICAgICB2aWRlbzogewogICAgICAgICAgICB3aWR0aDogX3RoaXMudmlkZW9XaWR0aCwKICAgICAgICAgICAgaGVpZ2h0OiBfdGhpcy52aWRlb0hlaWdodCwKICAgICAgICAgICAgdHJhbnNmb3JtOiAnc2NhbGVYKC0xKScKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKS50aGVuKGZ1bmN0aW9uIChzdHJlYW0pIHsKICAgICAgICAgIC8vIOaXp+eahOa1j+iniOWZqOWPr+iDveayoeaciXNyY09iamVjdAoKICAgICAgICAgIGlmICgnc3JjT2JqZWN0JyBpbiBfdGhpcy50aGlzVmlkZW8pIHsKICAgICAgICAgICAgX3RoaXMudGhpc1ZpZGVvLnNyY09iamVjdCA9IHN0cmVhbTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIOmBv+WFjeWcqOaWsOeahOa1j+iniOWZqOS4reS9v+eUqOWug++8jOWboOS4uuWug+ato+WcqOiiq+W8g+eUqOOAggoKICAgICAgICAgICAgX3RoaXMudGhpc1ZpZGVvLnNyYyA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKHN0cmVhbSk7CiAgICAgICAgICB9CiAgICAgICAgICBfdGhpcy50aGlzVmlkZW8ub25sb2FkZWRtZXRhZGF0YSA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIF90aGlzLnRoaXNWaWRlby5wbGF5KCk7CiAgICAgICAgICB9OwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIF90aGlzMy4kbm90aWZ5KHsKICAgICAgICAgICAgdGl0bGU6ICforablkYonLAogICAgICAgICAgICBtZXNzYWdlOiAn5rKh5pyJ5byA5ZCv5pGE5YOP5aS05p2D6ZmQ5oiW5rWP6KeI5Zmo54mI5pys5LiN5YW85a65LicsCiAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8v57uY5Yi25Zu+54mHCiAgICBkcmF3SW1hZ2U6IGZ1bmN0aW9uIGRyYXdJbWFnZSgpIHsKICAgICAgLy8g54K55Ye777yMY2FudmFz55S75Zu+CgogICAgICB0aGlzLnRoaXNDb250ZXh0LmRyYXdJbWFnZSh0aGlzLnRoaXNWaWRlbywgMCwgMCwgdGhpcy52aWRlb1dpZHRoLCB0aGlzLnZpZGVvSGVpZ2h0KTsKCiAgICAgIC8vIOiOt+WPluWbvueJh2Jhc2U2NOmTvuaOpQoKICAgICAgdGhpcy5pbWdTcmMgPSB0aGlzLnRoaXNDYW5jYXMudG9EYXRhVVJMKCdpbWFnZS9wbmcnKTsKCiAgICAgIC8qY29uc3QgaW1nU3JjPXRoaXMuaW1nU3JjOyovCiAgICB9LAogICAgLy/muIXnqbrnlLvluIMKICAgIGNsZWFyQ2FudmFzOiBmdW5jdGlvbiBjbGVhckNhbnZhcyhpZCkgewogICAgICB2YXIgYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTsKICAgICAgdmFyIGN4dCA9IGMuZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3h0LmNsZWFyUmVjdCgwLCAwLCBjLndpZHRoLCBjLmhlaWdodCk7CiAgICB9LAogICAgLy/ph43nva7nlLvluIMKICAgIHJlc2V0Q2FudmFzOiBmdW5jdGlvbiByZXNldENhbnZhcygpIHsKICAgICAgdGhpcy5pbWdTcmMgPSAiIjsKICAgICAgdGhpcy5jbGVhckNhbnZhcygnY2FudmFzQ2FtZXJhJyk7CiAgICB9LAogICAgLy/lhbPpl63mkYTlg4/lpLQKICAgIHN0b3BOYXZpZ2F0b3I6IGZ1bmN0aW9uIHN0b3BOYXZpZ2F0b3IoKSB7CiAgICAgIGlmICh0aGlzLnRoaXNWaWRlbyAmJiB0aGlzLnRoaXNWaWRlbyAhPT0gbnVsbCkgewogICAgICAgIHRoaXMudGhpc1ZpZGVvLnNyY09iamVjdC5nZXRUcmFja3MoKVswXS5zdG9wKCk7CiAgICAgICAgdGhpcy5vcyA9IHRydWU7IC8v5YiH5o2i5oiQ5omT5byA5pGE5YOP5aS0CiAgICAgIH0KICAgIH0gLyrosIPnlKjmkYTlg4/lpLTmi43nhafnu5PmnZ8qLwogIH0KfTs="},{"version":3,"names":["name","data","_ref","baseUrl","concat","$base","visible","loading","os","thisVideo","thisContext","thisCancas","videoWidth","videoHeight","postOptions","CertCtl","_defineProperty","pageNum","pageSize","imgSrc","undefined","created","methods","onTake","getCompetence","onCancel","uploadImg","stopNavigator","uploadSuccess","e","$emit","file","_this2","param","FormData","append","base64toFile","$http","post","then","res","dataurl","filename","arguments","length","arr","split","mime","match","suffix","bstr","atob","n","u8arr","Uint8Array","charCodeAt","File","type","_this3","$nextTick","_this","document","getElementById","getContext","navigator","mediaDevices","menavigatordiaDevices","getUserMedia","constraints","webkitGetUserMedia","mozGetUserMedia","Promise","reject","Error","resolve","call","audio","video","width","height","transform","stream","srcObject","src","window","URL","createObjectURL","onloadedmetadata","play","catch","err","$notify","title","message","drawImage","toDataURL","clearCanvas","id","c","cxt","clearRect","resetCanvas","getTracks","stop"],"sources":["src/components/common/img.vue"],"sourcesContent":["<template>\n  <el-dialog title=\"拍照上传\" :visible.sync=\"visible\" width=\"1065px\">\n    <div class=\"box\">\n      <video id=\"videoCamera\" class=\"canvas\" :width=\"videoWidth\" :height=\"videoHeight\" autoPlay></video>\n      <canvas id=\"canvasCamera\" class=\"canvas\" :width=\"videoWidth\" :height=\"videoHeight\"></canvas>\n    </div>\n    <div slot=\"footer\" style=\"display:flex\">\r\n\t\t<el-upload\r\n\t\t  :action=\"$base.url + 'file/upload'\"\r\n\t\t  :on-success=\"uploadSuccess\"\r\n\t\t  :show-file-list=\"false\"\r\n\t\t  accept=\".jpg,.png,.jpge\"\r\n\t\t  style=\"margin-right:10px\">\r\n\t\t  <el-button icon=\"el-icon-upload2\" size=\"small\">\r\n\t\t    上传图片\r\n\t\t  </el-button>\r\n\t\t</el-upload>\n      \n      <el-button @click=\"drawImage\" icon=\"el-icon-camera\" size=\"small\">\n        拍照\n      </el-button>\n      <el-button v-if=\"os\" @click=\"getCompetence\" icon=\"el-icon-video-camera\" size=\"small\">\n        打开摄像头\n      </el-button>\n      <el-button v-else @click=\"stopNavigator\" icon=\"el-icon-switch-button\" size=\"small\">\n        关闭摄像头\n      </el-button>\n      <el-button @click=\"resetCanvas\" icon=\"el-icon-refresh\" size=\"small\">\n        重置\n      </el-button>\n      <el-button @click=\"onCancel\" icon=\"el-icon-circle-close\" size=\"small\">\n        完成\n      </el-button>\n    </div>\n  </el-dialog>\n</template>\n<script>\n  export default {\n    name: \"XXX\",\n    data() {\n      return {\r\n\t\tbaseUrl:`/${this.$base.name}/`,\n        visible: false, //弹窗\n        loading: false, //上传按钮加载\n        os: false, //控制摄像头开关\n        thisVideo: null,\n        thisContext: null,\n        thisCancas: null,\n        videoWidth: 500,\n        videoHeight: 400,\n        postOptions: [],\n        CertCtl: '',\n        // 遮罩层\n        loading: true,\n        // 选中数组\n        ids: [],\n        // 非单个禁用\n        single: true,\n        // 非多个禁用\n        multiple: true,\n        // 总条数\n        total: 0,\n        // 项目人员表格数据\n        akworkerList: [],\n        //工种类别数据字典\n        workerTypeOptions: [],\n        // 弹出层标题\n        title: \"\",\n        // 是否显示弹出层\n        open: false,\n        // 查询参数\n        queryParams: {\n          pageNum: 1,\n          pageSize: 10,\n          imgSrc: undefined,\n        },\n        // 表单参数\n\n        form: {},\n\n        // 表单校验\n\n        rules: {\n\n        }\n\n      };\n\n    },\n\n    created() {\n      // this.onTake()\n    },\n\t\n    methods: {\n\n      /*调用摄像头拍照开始*/\n\n      onTake() {\n\n        this.visible = true;\n\n        this.getCompetence();\n\n      },\n\n      onCancel() {\n\t\tthis.uploadImg()\n        this.visible = false;\n        /* this.resetCanvas();*/\n\n        this.stopNavigator();\n\n      },\r\n\t  uploadSuccess(e){\r\n\t\t  this.visible = false;\r\n\t\t  this.$emit('imgChange', e.file)\r\n\t  },\n\t\tuploadImg(){\r\n\t\t\tlet param = new FormData()\r\n\t\t\t　　param.append('file',this.base64toFile(this.imgSrc))\r\n\t\t\tthis.$http.post('file/upload',param).then(res=>{\r\n\t\t\t\tthis.$emit('imgChange', res.data.file)\r\n\t\t\t})\r\n\t\t},\r\n\t\tbase64toFile (dataurl, filename = 'file') {\r\n\t\t  let arr = dataurl.split(',')\r\n\t\t        let mime = arr[0].match(/:(.*?);/)[1]\r\n\t\t        let suffix = mime.split('/')[1]\r\n\t\t        let bstr = atob(arr[1])\r\n\t\t        let n = bstr.length\r\n\t\t        let u8arr = new Uint8Array(n)\r\n\t\t        while (n--) {\r\n\t\t          u8arr[n] = bstr.charCodeAt(n)\r\n\t\t        }\r\n\t\t        let file = new File([u8arr], `${filename}.${suffix}`, {\r\n\t\t          type: mime\r\n\t\t        })\r\n\t\t        return file\r\n\t\t},\n      // 调用摄像头权限\n\n      getCompetence() {\n\n        //必须在model中render后才可获取到dom节点,直接获取无法获取到model中的dom节点\n\n        this.$nextTick(() => {\n\n          const _this = this;\n\n          this.os = false; //切换成关闭摄像头\n\n          this.thisCancas = document.getElementById('canvasCamera');\n\n          this.thisContext = this.thisCancas.getContext('2d');\n\n          this.thisVideo = document.getElementById('videoCamera');\n\n          // 旧版本浏览器可能根本不支持mediaDevices，我们首先设置一个空对象\n\n          if (navigator.mediaDevices === undefined) {\n\n            navigator.menavigatordiaDevices = {}\n\n          }\n\n          // 一些浏览器实现了部分mediaDevices，我们不能只分配一个对象\n\n          // 使用getUserMedia，因为它会覆盖现有的属性。\n\n          // 这里，如果缺少getUserMedia属性，就添加它。\n\n          if (navigator.mediaDevices.getUserMedia === undefined) {\n\n            navigator.mediaDevices.getUserMedia = function(constraints) {\n\n              // 首先获取现存的getUserMedia(如果存在)\n\n              let getUserMedia = navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator\n                .getUserMedia;\n\n              // 有些浏览器不支持，会返回错误信息\n\n              // 保持接口一致\n\n              if (!getUserMedia) {\n\n                return Promise.reject(new Error('getUserMedia is not implemented in this browser'))\n\n              }\n\n              // 否则，使用Promise将调用包装到旧的navigator.getUserMedia\n\n              return new Promise(function(resolve, reject) {\n\n                getUserMedia.call(navigator, constraints, resolve, reject)\n\n              })\n\n            }\n\n          }\n\n          const constraints = {\n\n            audio: false,\n\n            video: {\n              width: _this.videoWidth,\n              height: _this.videoHeight,\n              transform: 'scaleX(-1)'\n            }\n\n          };\n\n          navigator.mediaDevices.getUserMedia(constraints).then(function(stream) {\n\n            // 旧的浏览器可能没有srcObject\n\n            if ('srcObject' in _this.thisVideo) {\n\n              _this.thisVideo.srcObject = stream\n\n            } else {\n\n              // 避免在新的浏览器中使用它，因为它正在被弃用。\n\n              _this.thisVideo.src = window.URL.createObjectURL(stream)\n\n            }\n\n            _this.thisVideo.onloadedmetadata = function(e) {\n\n              _this.thisVideo.play()\n\n            }\n\n          }).catch(err => {\n\n            this.$notify({\n\n              title: '警告',\n\n              message: '没有开启摄像头权限或浏览器版本不兼容.',\n\n              type: 'warning'\n\n            });\n\n          });\n\n        });\n\n      },\n\n      //绘制图片\n\n      drawImage() {\n\n        // 点击，canvas画图\n\n        this.thisContext.drawImage(this.thisVideo, 0, 0, this.videoWidth, this.videoHeight);\n\n        // 获取图片base64链接\n\n        this.imgSrc = this.thisCancas.toDataURL('image/png');\n\n        /*const imgSrc=this.imgSrc;*/\n\n      },\n\n      //清空画布\n\n      clearCanvas(id) {\n\n        let c = document.getElementById(id);\n\n        let cxt = c.getContext(\"2d\");\n\n        cxt.clearRect(0, 0, c.width, c.height);\n\n      },\n\n      //重置画布\n\n      resetCanvas() {\n\n        this.imgSrc = \"\";\n\n        this.clearCanvas('canvasCamera');\n\n      },\n\n      //关闭摄像头\n\n      stopNavigator() {\n\n        if (this.thisVideo && this.thisVideo !== null) {\n\n          this.thisVideo.srcObject.getTracks()[0].stop();\n\n          this.os = true; //切换成打开摄像头\n\n        }\n\n      },\n\n      /*调用摄像头拍照结束*/\n\n    }\n\n  };\n</script>\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\n\n  .avatar-uploader .el-upload {\n    border: 1px dashed #ccc;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n  }\n\n  .avatar-uploader .el-upload:hover {\n    border-color: #409EFF;\n  }\n\n  .avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 178px;\n    height: 178px;\n    line-height: 178px;\n    text-align: center;\n    border: 1px dashed #ccc;\n  }\n\n  .avatar {\n    width: 178px;\n    height: 178px;\n    display: block;\n  }\n</style>\n"],"mappings":"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","ignoreList":[]}]}