{"remainingRequest":"/Users/shaofeng/Desktop/pythonUSMS/api/templates/front/admin/node_modules/thread-loader/dist/cjs.js!/Users/shaofeng/Desktop/pythonUSMS/api/templates/front/admin/node_modules/babel-loader/lib/index.js!/Users/shaofeng/Desktop/pythonUSMS/api/templates/front/admin/src/utils/imageLoader.js","dependencies":[{"path":"/Users/shaofeng/Desktop/pythonUSMS/api/templates/front/admin/src/utils/imageLoader.js","mtime":1757373345268},{"path":"/Users/shaofeng/Desktop/pythonUSMS/api/templates/front/admin/babel.config.js","mtime":1713772402000},{"path":"/Users/shaofeng/Desktop/pythonUSMS/api/templates/front/admin/node_modules/cache-loader/dist/cjs.js","mtime":1757287223684},{"path":"/Users/shaofeng/Desktop/pythonUSMS/api/templates/front/admin/node_modules/thread-loader/dist/cjs.js","mtime":1757287223664},{"path":"/Users/shaofeng/Desktop/pythonUSMS/api/templates/front/admin/node_modules/babel-loader/lib/index.js","mtime":1757287223926}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvc2hhb2ZlbmcvRGVza3RvcC9weXRob25VU01TL2FwaS90ZW1wbGF0ZXMvZnJvbnQvYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrLmpzIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMvc2hhb2ZlbmcvRGVza3RvcC9weXRob25VU01TL2FwaS90ZW1wbGF0ZXMvZnJvbnQvYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5lcnJvci50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKLyoqCiAqIOWbvueJh+WKoOi9veW3peWFt+exuwogKiDmj5Dkvpvlm77niYfpooTliqDovb3jgIHplJnor6/lpITnkIbnrYnlip/og70KICovCnZhciBJbWFnZUxvYWRlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gSW1hZ2VMb2FkZXIoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW1hZ2VMb2FkZXIpOwogIH0KICByZXR1cm4gX2NyZWF0ZUNsYXNzKEltYWdlTG9hZGVyLCBudWxsLCBbewogICAga2V5OiAicHJlbG9hZEltYWdlIiwKICAgIHZhbHVlOgogICAgLyoqCiAgICAgKiDpooTliqDovb3ljZXlvKDlm77niYcKICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzcmMg5Zu+54mH6Lev5b6ECiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX0g5Yqg6L295oiQ5Yqf6L+U5ZuecmVzb2x2Ze+8jOWksei0pei/lOWbnnJlamVjdAogICAgICovCiAgICBmdW5jdGlvbiBwcmVsb2FkSW1hZ2Uoc3JjKSB7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgdmFyIGltZyA9IG5ldyBJbWFnZSgpOwogICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gcmVzb2x2ZShpbWcpOwogICAgICAgIH07CiAgICAgICAgaW1nLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gcmVqZWN0KG5ldyBFcnJvcigiXHU1NkZFXHU3MjQ3XHU1MkEwXHU4RjdEXHU1OTMxXHU4RDI1OiAiLmNvbmNhdChzcmMpKSk7CiAgICAgICAgfTsKICAgICAgICBpbWcuc3JjID0gc3JjOwogICAgICB9KTsKICAgIH0KCiAgICAvKioKICAgICAqIOmihOWKoOi9veWkmuW8oOWbvueJhwogICAgICogQHBhcmFtIHtBcnJheX0gaW1hZ2VTb3VyY2VzIOWbvueJh+i3r+W+hOaVsOe7hAogICAgICogQHJldHVybnMge1Byb21pc2V9IOWFqOmDqOWKoOi9veWujOaIkOi/lOWbnnJlc29sdmXvvIzku7vkuIDlpLHotKXov5Tlm55yZWplY3QKICAgICAqLwogIH0sIHsKICAgIGtleTogInByZWxvYWRJbWFnZXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHByZWxvYWRJbWFnZXMoaW1hZ2VTb3VyY2VzKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciBwcm9taXNlcyA9IGltYWdlU291cmNlcy5tYXAoZnVuY3Rpb24gKHNyYykgewogICAgICAgIHJldHVybiBfdGhpcy5wcmVsb2FkSW1hZ2Uoc3JjKTsKICAgICAgfSk7CiAgICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7CiAgICB9CgogICAgLyoqCiAgICAgKiDluKbph43or5XmnLrliLbnmoTlm77niYfliqDovb0KICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzcmMg5Zu+54mH6Lev5b6ECiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmV0cmllcyDph43or5XmrKHmlbAKICAgICAqIEByZXR1cm5zIHtQcm9taXNlfSDliqDovb3miJDlip/ov5Tlm55yZXNvbHZl77yM5aSx6LSl6L+U5ZuecmVqZWN0CiAgICAgKi8KICB9LCB7CiAgICBrZXk6ICJsb2FkSW1hZ2VXaXRoUmV0cnkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWRJbWFnZVdpdGhSZXRyeShzcmMpIHsKICAgICAgdmFyIHJldHJpZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDM7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgdmFyIF9hdHRlbXB0ID0gZnVuY3Rpb24gYXR0ZW1wdChyZW1haW5pbmdSZXRyaWVzKSB7CiAgICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7CiAgICAgICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShpbWcpOwogICAgICAgICAgfTsKICAgICAgICAgIGltZy5vbmVycm9yID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAocmVtYWluaW5nUmV0cmllcyA+IDApIHsKICAgICAgICAgICAgICBjb25zb2xlLndhcm4oIlx1NTZGRVx1NzI0N1x1NTJBMFx1OEY3RFx1NTkzMVx1OEQyNVx1RkYwQ1x1NTI2OVx1NEY1OVx1OTFDRFx1OEJENVx1NkIyMVx1NjU3MDogIi5jb25jYXQocmVtYWluaW5nUmV0cmllcyksIHNyYyk7CiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gX2F0dGVtcHQocmVtYWluaW5nUmV0cmllcyAtIDEpOwogICAgICAgICAgICAgIH0sIDEwMDApOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoIlx1NTZGRVx1NzI0N1x1NTJBMFx1OEY3RFx1NTkzMVx1OEQyNVx1RkYwOFx1NURGMlx1OTFDRFx1OEJENSIuY29uY2F0KHJldHJpZXMsICJcdTZCMjFcdUZGMDk6ICIpLmNvbmNhdChzcmMpKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH07CiAgICAgICAgICBpbWcuc3JjID0gc3JjOwogICAgICAgIH07CiAgICAgICAgX2F0dGVtcHQocmV0cmllcyk7CiAgICAgIH0pOwogICAgfQogIH1dKTsKfSgpOwpleHBvcnQgZGVmYXVsdCBJbWFnZUxvYWRlcjs="},{"version":3,"names":["ImageLoader","_classCallCheck","_createClass","key","value","preloadImage","src","Promise","resolve","reject","img","Image","onload","onerror","Error","concat","preloadImages","imageSources","_this","promises","map","all","loadImageWithRetry","retries","arguments","length","undefined","attempt","remainingRetries","console","warn","setTimeout"],"sources":["/Users/shaofeng/Desktop/pythonUSMS/api/templates/front/admin/src/utils/imageLoader.js"],"sourcesContent":["/**\n * 图片加载工具类\n * 提供图片预加载、错误处理等功能\n */\n\nclass ImageLoader {\n  /**\n   * 预加载单张图片\n   * @param {string} src 图片路径\n   * @returns {Promise} 加载成功返回resolve，失败返回reject\n   */\n  static preloadImage(src) {\n    return new Promise((resolve, reject) => {\n      const img = new Image();\n      img.onload = () => resolve(img);\n      img.onerror = () => reject(new Error(`图片加载失败: ${src}`));\n      img.src = src;\n    });\n  }\n\n  /**\n   * 预加载多张图片\n   * @param {Array} imageSources 图片路径数组\n   * @returns {Promise} 全部加载完成返回resolve，任一失败返回reject\n   */\n  static preloadImages(imageSources) {\n    const promises = imageSources.map(src => this.preloadImage(src));\n    return Promise.all(promises);\n  }\n\n  /**\n   * 带重试机制的图片加载\n   * @param {string} src 图片路径\n   * @param {number} retries 重试次数\n   * @returns {Promise} 加载成功返回resolve，失败返回reject\n   */\n  static loadImageWithRetry(src, retries = 3) {\n    return new Promise((resolve, reject) => {\n      const attempt = (remainingRetries) => {\n        const img = new Image();\n        img.onload = () => resolve(img);\n        img.onerror = () => {\n          if (remainingRetries > 0) {\n            console.warn(`图片加载失败，剩余重试次数: ${remainingRetries}`, src);\n            setTimeout(() => attempt(remainingRetries - 1), 1000);\n          } else {\n            reject(new Error(`图片加载失败（已重试${retries}次）: ${src}`));\n          }\n        };\n        img.src = src;\n      };\n      attempt(retries);\n    });\n  }\n}\n\nexport default ImageLoader;"],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;AACA;AAHA,IAKMA,WAAW;EAAA,SAAAA,YAAA;IAAAC,eAAA,OAAAD,WAAA;EAAA;EAAA,OAAAE,YAAA,CAAAF,WAAA;IAAAG,GAAA;IAAAC,KAAA;IACf;AACF;AACA;AACA;AACA;IACE,SAAOC,YAAYA,CAACC,GAAG,EAAE;MACvB,OAAO,IAAIC,OAAO,CAAC,UAACC,OAAO,EAAEC,MAAM,EAAK;QACtC,IAAMC,GAAG,GAAG,IAAIC,KAAK,CAAC,CAAC;QACvBD,GAAG,CAACE,MAAM,GAAG;UAAA,OAAMJ,OAAO,CAACE,GAAG,CAAC;QAAA;QAC/BA,GAAG,CAACG,OAAO,GAAG;UAAA,OAAMJ,MAAM,CAAC,IAAIK,KAAK,0CAAAC,MAAA,CAAYT,GAAG,CAAE,CAAC,CAAC;QAAA;QACvDI,GAAG,CAACJ,GAAG,GAAGA,GAAG;MACf,CAAC,CAAC;IACJ;;IAEA;AACF;AACA;AACA;AACA;EAJE;IAAAH,GAAA;IAAAC,KAAA,EAKA,SAAOY,aAAaA,CAACC,YAAY,EAAE;MAAA,IAAAC,KAAA;MACjC,IAAMC,QAAQ,GAAGF,YAAY,CAACG,GAAG,CAAC,UAAAd,GAAG;QAAA,OAAIY,KAAI,CAACb,YAAY,CAACC,GAAG,CAAC;MAAA,EAAC;MAChE,OAAOC,OAAO,CAACc,GAAG,CAACF,QAAQ,CAAC;IAC9B;;IAEA;AACF;AACA;AACA;AACA;AACA;EALE;IAAAhB,GAAA;IAAAC,KAAA,EAMA,SAAOkB,kBAAkBA,CAAChB,GAAG,EAAe;MAAA,IAAbiB,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC;MACxC,OAAO,IAAIjB,OAAO,CAAC,UAACC,OAAO,EAAEC,MAAM,EAAK;QACtC,IAAMkB,QAAO,GAAG,SAAVA,OAAOA,CAAIC,gBAAgB,EAAK;UACpC,IAAMlB,GAAG,GAAG,IAAIC,KAAK,CAAC,CAAC;UACvBD,GAAG,CAACE,MAAM,GAAG;YAAA,OAAMJ,OAAO,CAACE,GAAG,CAAC;UAAA;UAC/BA,GAAG,CAACG,OAAO,GAAG,YAAM;YAClB,IAAIe,gBAAgB,GAAG,CAAC,EAAE;cACxBC,OAAO,CAACC,IAAI,oFAAAf,MAAA,CAAmBa,gBAAgB,GAAItB,GAAG,CAAC;cACvDyB,UAAU,CAAC;gBAAA,OAAMJ,QAAO,CAACC,gBAAgB,GAAG,CAAC,CAAC;cAAA,GAAE,IAAI,CAAC;YACvD,CAAC,MAAM;cACLnB,MAAM,CAAC,IAAIK,KAAK,gEAAAC,MAAA,CAAcQ,OAAO,oBAAAR,MAAA,CAAOT,GAAG,CAAE,CAAC,CAAC;YACrD;UACF,CAAC;UACDI,GAAG,CAACJ,GAAG,GAAGA,GAAG;QACf,CAAC;QACDqB,QAAO,CAACJ,OAAO,CAAC;MAClB,CAAC,CAAC;IACJ;EAAC;AAAA;AAGH,eAAevB,WAAW","ignoreList":[]}]}